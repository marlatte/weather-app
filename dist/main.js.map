{"version":3,"file":"main.js","mappings":";;;AAA2B;;AAE3B;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAwD,cAAc;AACtE;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAAS,oBAAoB;;AAE7B;AACA;AACA;AACA,OAAO,eAAe;AACtB,OAAO,eAAe;AACtB,4BAA4B,uBAAuB;AACnD,sBAAsB,wBAAwB;AAC9C;;AAEA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD,8CAA8C,QAAQ;AACtD,6CAA6C,QAAQ;AACrD,8CAA8C,QAAQ;;AAEtD;;AAEA,sBAAsB,4BAA4B;;AAElD;AACA,QAAQ,uBAAuB;AAC/B,QAAQ,uBAAuB;;AAE/B;AACA,QAAQ,uBAAuB;AAC/B,QAAQ,uBAAuB;AAC/B,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA","sources":["webpack://marlatte-weather-app/./src/index.js"],"sourcesContent":["import './styles/main.css';\n\nconst searchForm = document.querySelector('form.search-item');\nconst tempScale = document.querySelector('#temp-scale');\nconst dialog = document.querySelector('dialog');\n\nlet currentData;\n\nconst funStuff = [\n\t'https://api.weatherapi.com/v1/forecast.json?k',\n\t'ey=',\n\t'043282325c',\n\t'3b44ec9141',\n\t'0010230511',\n\t'&days=3',\n\t'&q=',\n].join('');\n\nasync function getWeatherData(targetCity) {\n\ttry {\n\t\tconst response = await fetch(funStuff + targetCity, { mode: 'cors' });\n\t\tconst weatherData = await response.json();\n\t\treturn weatherData;\n\t} catch (err) {\n\t\tthrow new Error(err);\n\t}\n}\n\nfunction formatDate(forecastDay) {\n\tconst daysOfTheWeek = {\n\t\tmon: 'Monday',\n\t\ttue: 'Tuesday',\n\t\twed: 'Wednesday',\n\t\tthu: 'Thursday',\n\t\tfri: 'Friday',\n\t\tsat: 'Saturday',\n\t\tsun: 'Sunday',\n\t};\n\n\tconst shortDay = new Date(forecastDay).toUTCString().toLowerCase().slice(0, 3);\n\treturn daysOfTheWeek[shortDay];\n}\n\nfunction makeTitleCase(string) {\n\treturn string\n\t\t.split(' ')\n\t\t.map((word) => word[0].toUpperCase() + word.slice(1))\n\t\t.join(' ');\n}\n\nfunction setCurrentInfo() {\n\tconst currentCity = document.querySelector('.city');\n\tconst currentCountry = document.querySelector('.country');\n\tconst currentIcon = document.querySelector('.current-icon');\n\tconst currentTemp = document.querySelector('.current-temp');\n\n\tconst { location, current } = currentData;\n\n\tcurrentCity.textContent = location.name;\n\tcurrentCountry.textContent = location.country;\n\tcurrentTemp.textContent = tempScale.checked\n\t\t? `${current.temp_f}° F`\n\t\t: `${current.temp_c}° C`;\n\tcurrentIcon.src = `https:${current.condition.icon}`;\n\tcurrentIcon.alt = `${current.condition.text} weather icon`;\n}\n\nfunction setForecastInfo() {\n\t[0, 1, 2].forEach((dayNum) => {\n\t\tconst forecast = currentData.forecast.forecastday[dayNum];\n\t\tconst title = document.querySelector(`.day-${dayNum} .title`);\n\t\tconst icon = document.querySelector(`.day-${dayNum} .icon`);\n\t\tconst low = document.querySelector(`.day-${dayNum} .daily.low .num`);\n\t\tconst high = document.querySelector(`.day-${dayNum} .daily.high .num`);\n\n\t\ttitle.textContent = !dayNum ? 'Today' : formatDate(forecast.date);\n\n\t\ticon.src = `https:${forecast.day.condition.icon}`;\n\n\t\tlow.textContent = tempScale.checked\n\t\t\t? `${forecast.day.mintemp_f}° F`\n\t\t\t: `${forecast.day.mintemp_c}° C`;\n\n\t\thigh.textContent = tempScale.checked\n\t\t\t? `${forecast.day.maxtemp_f}° F`\n\t\t\t: `${forecast.day.maxtemp_c}° C`;\n\t});\n}\n\nfunction updateDisplay() {\n\tsetCurrentInfo();\n\tsetForecastInfo();\n\tdialog.close();\n}\n\nasync function changeCity(targetCity) {\n\tcurrentData = await getWeatherData(targetCity);\n\tupdateDisplay();\n}\n\nfunction handleSearch(e) {\n\te.preventDefault();\n\tconst searchBar = document.querySelector('#search-bar');\n\tconst searchLoad = document.getElementById('load-search');\n\n\tsearchLoad.textContent = makeTitleCase(searchBar.value);\n\tdialog.showModal();\n\tdialog.blur();\n\n\tchangeCity(searchBar.value);\n\n\tsearchBar.value = '';\n\tsearchBar.blur();\n}\n\nsearchForm.addEventListener('submit', handleSearch);\ntempScale.addEventListener('click', updateDisplay);\n\nchangeCity('new york');\n"],"names":[],"sourceRoot":""}